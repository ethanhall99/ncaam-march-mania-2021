row.names = FALSE, sep = ",")
uwm1920 <- data.frame(
read_excel('//Users/ethanhall/Desktop/2021/Analytics Cohort/CC Data/2019-2020 Year End Demographic.xlsx',
sheet = 'Data File',
col_names = TRUE))
uwm1920 <- uwm1920 %>%
add_column(DemographicYear = '19/20', .before = 1) %>%
mutate(Category = case_when(is.na(Impact_Area) ~ '',
Impact_Area == 'Crisis Intervention' ~ 'Basic Needs',
Impact_Area == 'Health' ~ 'Basic Needs',
Impact_Area == 'Financial Stability' ~ 'Financial Stability',
Impact_Area == 'Education' ~'Education',
TRUE ~ '')) %>%
move_columns(Category, .before = Impact_Area)
uwm1920 <- uwm1920 %>%
rename(ProgramIdentifier = Program_Identifier,
AgencyName = Agency_Name,
ProgramName = Program_Name,
ImpactArea = Impact_Area,
AgeBin = Age,
IncomeBin = Income) %>%
select(DemographicYear,
ProgramIdentifier,
AgencyName,
ProgramName,
Category,
ImpactArea,
Taxonomy,
Gender,
AgeBin,
IncomeBin,
Race,
# City,
# State,
# County,
# MSA,
Zipcode)
uwm1819 <- data.frame(
read_excel('/Users/ethanhall/Desktop/2021/Analytics Cohort/CC Data/2018 - 2019 Year End Demographic.xlsx',
sheet = 'FINAL',
col_names = TRUE))
uwm1819col <- c("Program_Identifier", "Agency_Name", "Program_Name", "Impact_Area", "Taxonomy", "Gender_Final",
"Age_Categories", "Race_Final", 'City', 'State', 'County', "MSA", 'Zipcode_Final', "Household_Income_Final")
uwm1819 <- uwm1819[uwm1819col]
uwm1819 <- uwm1819 %>%
add_column(DemographicYear = '18/19', .before = 1) %>%
mutate(Category = case_when(is.na(Impact_Area) ~ '',
Impact_Area == 'Crisis Intervention' ~ 'Basic Needs',
Impact_Area == 'Health' ~ 'Basic Needs',
Impact_Area == 'Financial Stability' ~ 'Financial Stability',
Impact_Area == 'Education' ~'Education',
TRUE ~ '')) %>%
move_columns(Category, .before = Impact_Area)
uwm1819 <- uwm1819 %>%
rename(ProgramIdentifier = Program_Identifier,
AgencyName = Agency_Name,
ProgramName = Program_Name,
ImpactArea = Impact_Area,
Gender = Gender_Final,
AgeBin = Age_Categories,
Race = Race_Final,
Zipcode = Zipcode_Final,
IncomeBin = Household_Income_Final) %>%
select(DemographicYear,
ProgramIdentifier,
AgencyName,
ProgramName,
Category,
ImpactArea,
Taxonomy,
Gender,
AgeBin,
IncomeBin,
Race,
# City,
# State,
# County,
# MSA,
Zipcode)
uwm1718 <- data.frame(
read_excel('/Users/ethanhall/Desktop/2021/Analytics Cohort/CC Data/2017 - 2018 Year End Demographic.xlsx',
sheet = 'Data',
col_names = TRUE))
uwm1718col <- c("Program_Identifier", "Agency", "Program_Name", "Impact_Area", "Taxonomy", "Gender", "Age",
"Race", "Zipcode", "City", "State", "County", "MSA", "Bucketed_Income")
uwm1718 <- uwm1718[uwm1718col]
uwm1718 <- uwm1718 %>%
add_column(DemographicYear = '17/18', .before = 1) %>%
mutate(Category = case_when(is.na(Impact_Area) ~ '',
Impact_Area == 'Basic Needs - Safety Net' ~ 'Basic Needs',
Impact_Area == 'Basic Needs - Health' ~ 'Basic Needs',
Impact_Area == 'Financial Stability' ~ 'Financial Stability',
Impact_Area == 'Education' ~'Education',
TRUE ~ '')) %>%
move_columns(Category, .before = Impact_Area)
uwm1718 <- uwm1718 %>%
mutate(AgeBin = case_when(is.na(Age) ~ '',
Age < 5 ~ 'Under 5',
Age < 18 & Age >= 5 ~ '5 to 17 Years',
Age < 25 & Age >= 18 ~ '18 to 24 Years',
Age < 45 & Age >= 25 ~ '25 to 44 Years',
Age < 65 & Age >= 45 ~ '45 to 64 Years',
Age >= 65 ~ '65 Years and above',
TRUE ~ ''))
uwm1718 <- uwm1718 %>%
rename(ProgramIdentifier = Program_Identifier,
AgencyName = Agency,
ProgramName = Program_Name,
ImpactArea = Impact_Area,
IncomeBin = Bucketed_Income) %>%
select(DemographicYear,
ProgramIdentifier,
AgencyName,
ProgramName,
Category,
ImpactArea,
Taxonomy,
Gender,
AgeBin,
IncomeBin,
Race,
# City,
# State,
# County,
# MSA,
Zipcode)
uwm1617 <- data.frame(
read_csv('/Users/ethanhall/Desktop/2021/Analytics Cohort/CC Data/2016-2017 Year End Demographics.csv',
col_names = TRUE))
uwm1617col <- c("Program_Identifier", "Agency", "Program_Name", "Impact_Area", "Taxonomy", "Gender",
"Age_Bucket", "Race", "Zipcode", "Income_Categories")
uwm1617 <- uwm1617[uwm1617col]
uwm1617 <- uwm1617 %>%
add_column(DemographicYear = '16/17', .before = 1) %>%
mutate(Category = case_when(is.na(Impact_Area) ~ '',
Impact_Area == 'Basic Needs - Safety Net' ~ 'Basic Needs',
Impact_Area == 'Basic Needs - Health' ~ 'Basic Needs',
Impact_Area == 'Financial Stability' ~ 'Financial Stability',
Impact_Area == 'Education' ~'Education',
TRUE ~ '')) %>%
move_columns(Category, .before = Impact_Area)
uwm1617 <- uwm1617 %>%
rename(ProgramIdentifier = Program_Identifier,
AgencyName = Agency,
ProgramName = Program_Name,
ImpactArea = Impact_Area,
AgeBin = Age_Bucket,
IncomeBin = Income_Categories) %>%
select(DemographicYear,
ProgramIdentifier,
AgencyName,
ProgramName,
Category,
ImpactArea,
Taxonomy,
Gender,
AgeBin,
IncomeBin,
Race,
Zipcode)
uwm1920 <- data.frame(
read_excel('//Users/ethanhall/Desktop/2021/Analytics Cohort/CC Data/2019-2020 Year End Demographic.xlsx',
sheet = 'Data File',
col_names = TRUE))
uwm1920 <- uwm1920 %>%
add_column(DemographicYear = '19/20', .before = 1) %>%
mutate(Category = case_when(is.na(Impact_Area) ~ '',
Impact_Area == 'Crisis Intervention' ~ 'Basic Needs',
Impact_Area == 'Health' ~ 'Basic Needs',
Impact_Area == 'Financial Stability' ~ 'Financial Stability',
Impact_Area == 'Education' ~'Education',
TRUE ~ '')) %>%
move_columns(Category, .before = Impact_Area)
uwm1920 <- uwm1920 %>%
rename(ProgramIdentifier = Program_Identifier,
AgencyName = Agency_Name,
ProgramName = Program_Name,
ImpactArea = Impact_Area,
AgeBin = Age,
IncomeBin = Income) %>%
select(DemographicYear,
ProgramIdentifier,
AgencyName,
ProgramName,
Category,
ImpactArea,
Taxonomy,
Gender,
AgeBin,
IncomeBin,
Race,
# City,
# State,
# County,
# MSA,
Zipcode)
uwm1819 <- data.frame(
read_excel('/Users/ethanhall/Desktop/2021/Analytics Cohort/CC Data/2018 - 2019 Year End Demographic.xlsx',
sheet = 'FINAL',
col_names = TRUE))
uwm1819col <- c("Program_Identifier", "Agency_Name", "Program_Name", "Impact_Area", "Taxonomy", "Gender_Final",
"Age_Categories", "Race_Final", 'City', 'State', 'County', "MSA", 'Zipcode_Final', "Household_Income_Final")
uwm1819 <- uwm1819[uwm1819col]
uwm1819 <- uwm1819 %>%
add_column(DemographicYear = '18/19', .before = 1) %>%
mutate(Category = case_when(is.na(Impact_Area) ~ '',
Impact_Area == 'Crisis Intervention' ~ 'Basic Needs',
Impact_Area == 'Health' ~ 'Basic Needs',
Impact_Area == 'Financial Stability' ~ 'Financial Stability',
Impact_Area == 'Education' ~'Education',
TRUE ~ '')) %>%
move_columns(Category, .before = Impact_Area)
uwm1819 <- uwm1819 %>%
rename(ProgramIdentifier = Program_Identifier,
AgencyName = Agency_Name,
ProgramName = Program_Name,
ImpactArea = Impact_Area,
Gender = Gender_Final,
AgeBin = Age_Categories,
Race = Race_Final,
Zipcode = Zipcode_Final,
IncomeBin = Household_Income_Final) %>%
select(DemographicYear,
ProgramIdentifier,
AgencyName,
ProgramName,
Category,
ImpactArea,
Taxonomy,
Gender,
AgeBin,
IncomeBin,
Race,
# City,
# State,
# County,
# MSA,
Zipcode)
uwm1718 <- data.frame(
read_excel('/Users/ethanhall/Desktop/2021/Analytics Cohort/CC Data/2017 - 2018 Year End Demographic.xlsx',
sheet = 'Data',
col_names = TRUE))
uwm1718col <- c("Program_Identifier", "Agency", "Program_Name", "Impact_Area", "Taxonomy", "Gender", "Age",
"Race", "Zipcode", "City", "State", "County", "MSA", "Bucketed_Income")
uwm1718 <- uwm1718[uwm1718col]
uwm1718 <- uwm1718 %>%
add_column(DemographicYear = '17/18', .before = 1) %>%
mutate(Category = case_when(is.na(Impact_Area) ~ '',
Impact_Area == 'Basic Needs - Safety Net' ~ 'Basic Needs',
Impact_Area == 'Basic Needs - Health' ~ 'Basic Needs',
Impact_Area == 'Financial Stability' ~ 'Financial Stability',
Impact_Area == 'Education' ~'Education',
TRUE ~ '')) %>%
move_columns(Category, .before = Impact_Area)
uwm1718 <- uwm1718 %>%
mutate(AgeBin = case_when(is.na(Age) ~ '',
Age < 5 ~ 'Under 5',
Age < 18 & Age >= 5 ~ '5 to 17 Years',
Age < 25 & Age >= 18 ~ '18 to 24 Years',
Age < 45 & Age >= 25 ~ '25 to 44 Years',
Age < 65 & Age >= 45 ~ '45 to 64 Years',
Age >= 65 ~ '65 Years and above',
TRUE ~ ''))
uwm1718 <- uwm1718 %>%
rename(ProgramIdentifier = Program_Identifier,
AgencyName = Agency,
ProgramName = Program_Name,
ImpactArea = Impact_Area,
IncomeBin = Bucketed_Income) %>%
select(DemographicYear,
ProgramIdentifier,
AgencyName,
ProgramName,
Category,
ImpactArea,
Taxonomy,
Gender,
AgeBin,
IncomeBin,
Race,
# City,
# State,
# County,
# MSA,
Zipcode)
uwm1617 <- data.frame(
read_csv('/Users/ethanhall/Desktop/2021/Analytics Cohort/CC Data/2016-2017 Year End Demographics.csv',
col_names = TRUE))
uwm1617col <- c("Program_Identifier", "Agency", "Program_Name", "Impact_Area", "Taxonomy", "Gender",
"Age_Bucket", "Race", "Zipcode", "Income_Categories")
uwm1617 <- uwm1617[uwm1617col]
uwm1617 <- uwm1617 %>%
add_column(DemographicYear = '16/17', .before = 1) %>%
mutate(Category = case_when(is.na(Impact_Area) ~ '',
Impact_Area == 'Basic Needs - Safety Net' ~ 'Basic Needs',
Impact_Area == 'Basic Needs - Health' ~ 'Basic Needs',
Impact_Area == 'Financial Stability' ~ 'Financial Stability',
Impact_Area == 'Education' ~'Education',
TRUE ~ '')) %>%
move_columns(Category, .before = Impact_Area)
uwm1617 <- uwm1617 %>%
rename(ProgramIdentifier = Program_Identifier,
AgencyName = Agency,
ProgramName = Program_Name,
ImpactArea = Impact_Area,
AgeBin = Age_Bucket,
IncomeBin = Income_Categories) %>%
select(DemographicYear,
ProgramIdentifier,
AgencyName,
ProgramName,
Category,
ImpactArea,
Taxonomy,
Gender,
AgeBin,
IncomeBin,
Race,
Zipcode)
uwm1920 <- data.frame(
read_excel('//Users/ethanhall/Desktop/2021/Analytics Cohort/CC Data/2019-2020 Year End Demographic.xlsx',
sheet = 'Data File',
col_names = TRUE))
uwm1920 <- uwm1920 %>%
add_column(DemographicYear = '19/20', .before = 1) %>%
mutate(Category = case_when(is.na(Impact_Area) ~ '',
Impact_Area == 'Crisis Intervention' ~ 'Basic Needs',
Impact_Area == 'Health' ~ 'Basic Needs',
Impact_Area == 'Financial Stability' ~ 'Financial Stability',
Impact_Area == 'Education' ~'Education',
TRUE ~ '')) %>%
move_columns(Category, .before = Impact_Area)
uwm1920 <- uwm1920 %>%
rename(ProgramIdentifier = Program_Identifier,
AgencyName = Agency_Name,
ProgramName = Program_Name,
ImpactArea = Impact_Area,
AgeBin = Age,
IncomeBin = Income) %>%
select(DemographicYear,
ProgramIdentifier,
AgencyName,
ProgramName,
Category,
ImpactArea,
Taxonomy,
Gender,
AgeBin,
IncomeBin,
Race,
# City,
# State,
# County,
# MSA,
Zipcode)
uwm1819 <- data.frame(
read_excel('/Users/ethanhall/Desktop/2021/Analytics Cohort/CC Data/2018 - 2019 Year End Demographic.xlsx',
sheet = 'FINAL',
col_names = TRUE))
uwm1819col <- c("Program_Identifier", "Agency_Name", "Program_Name", "Impact_Area", "Taxonomy", "Gender_Final",
"Age_Categories", "Race_Final", 'City', 'State', 'County', "MSA", 'Zipcode_Final', "Household_Income_Final")
uwm1819 <- uwm1819[uwm1819col]
uwm1819 <- uwm1819 %>%
add_column(DemographicYear = '18/19', .before = 1) %>%
mutate(Category = case_when(is.na(Impact_Area) ~ '',
Impact_Area == 'Crisis Intervention' ~ 'Basic Needs',
Impact_Area == 'Health' ~ 'Basic Needs',
Impact_Area == 'Financial Stability' ~ 'Financial Stability',
Impact_Area == 'Education' ~'Education',
TRUE ~ '')) %>%
move_columns(Category, .before = Impact_Area)
uwm1819 <- uwm1819 %>%
rename(ProgramIdentifier = Program_Identifier,
AgencyName = Agency_Name,
ProgramName = Program_Name,
ImpactArea = Impact_Area,
Gender = Gender_Final,
AgeBin = Age_Categories,
Race = Race_Final,
Zipcode = Zipcode_Final,
IncomeBin = Household_Income_Final) %>%
select(DemographicYear,
ProgramIdentifier,
AgencyName,
ProgramName,
Category,
ImpactArea,
Taxonomy,
Gender,
AgeBin,
IncomeBin,
Race,
# City,
# State,
# County,
# MSA,
Zipcode)
uwm1718 <- data.frame(
read_excel('/Users/ethanhall/Desktop/2021/Analytics Cohort/CC Data/2017 - 2018 Year End Demographic.xlsx',
sheet = 'Data',
col_names = TRUE))
uwm1718col <- c("Program_Identifier", "Agency", "Program_Name", "Impact_Area", "Taxonomy", "Gender", "Age",
"Race", "Zipcode", "City", "State", "County", "MSA", "Bucketed_Income")
uwm1718 <- uwm1718[uwm1718col]
uwm1718 <- uwm1718 %>%
add_column(DemographicYear = '17/18', .before = 1) %>%
mutate(Category = case_when(is.na(Impact_Area) ~ '',
Impact_Area == 'Basic Needs - Safety Net' ~ 'Basic Needs',
Impact_Area == 'Basic Needs - Health' ~ 'Basic Needs',
Impact_Area == 'Financial Stability' ~ 'Financial Stability',
Impact_Area == 'Education' ~'Education',
TRUE ~ '')) %>%
move_columns(Category, .before = Impact_Area)
uwm1718 <- uwm1718 %>%
mutate(AgeBin = case_when(is.na(Age) ~ '',
Age < 5 ~ 'Under 5',
Age < 18 & Age >= 5 ~ '5 to 17 Years',
Age < 25 & Age >= 18 ~ '18 to 24 Years',
Age < 45 & Age >= 25 ~ '25 to 44 Years',
Age < 65 & Age >= 45 ~ '45 to 64 Years',
Age >= 65 ~ '65 Years and above',
TRUE ~ ''))
uwm1718 <- uwm1718 %>%
rename(ProgramIdentifier = Program_Identifier,
AgencyName = Agency,
ProgramName = Program_Name,
ImpactArea = Impact_Area,
IncomeBin = Bucketed_Income) %>%
select(DemographicYear,
ProgramIdentifier,
AgencyName,
ProgramName,
Category,
ImpactArea,
Taxonomy,
Gender,
AgeBin,
IncomeBin,
Race,
# City,
# State,
# County,
# MSA,
Zipcode)
uwm1617 <- data.frame(
read_csv('/Users/ethanhall/Desktop/2021/Analytics Cohort/CC Data/2016-2017 Year End Demographics.csv',
col_names = TRUE))
uwm1617col <- c("Program_Identifier", "Agency", "Program_Name", "Impact_Area", "Taxonomy", "Gender",
"Age_Bucket", "Race", "Zipcode", "Income_Categories")
uwm1617 <- uwm1617[uwm1617col]
uwm1617 <- uwm1617 %>%
add_column(DemographicYear = '16/17', .before = 1) %>%
mutate(Category = case_when(is.na(Impact_Area) ~ '',
Impact_Area == 'Basic Needs - Safety Net' ~ 'Basic Needs',
Impact_Area == 'Basic Needs - Health' ~ 'Basic Needs',
Impact_Area == 'Financial Stability' ~ 'Financial Stability',
Impact_Area == 'Education' ~'Education',
TRUE ~ '')) %>%
move_columns(Category, .before = Impact_Area)
uwm1617 <- uwm1617 %>%
rename(ProgramIdentifier = Program_Identifier,
AgencyName = Agency,
ProgramName = Program_Name,
ImpactArea = Impact_Area,
AgeBin = Age_Bucket,
IncomeBin = Income_Categories) %>%
select(DemographicYear,
ProgramIdentifier,
AgencyName,
ProgramName,
Category,
ImpactArea,
Taxonomy,
Gender,
AgeBin,
IncomeBin,
Race,
Zipcode)
View(uwm1617)
uwm <- bind_rows(uwm1617, uwm1718, uwm1819, uwm1920)
write.table(uwm, file = "/Users/ethanhall/Desktop/2021/Analytics Cohort/UWM Data/uwm.csv",
row.names = FALSE, sep = ",")
uwm <- uwm %>%
group_by(DemographicYear) %>%
mutate(ID = row_number())
View(uwm)
uwm <- uwm %>%
group_by(DemographicYear) %>%
mutate(rn = row_number()) %>%
mutate(ID = paste(DemographicYear, rn))
View(uwm)
uwm <- uwm %>%
group_by(DemographicYear) %>%
mutate(rn = row_number()) %>%
mutate(ID = paste(DemographicYear,"-",rn))
uwm <- uwm %>%
group_by(DemographicYear) %>%
mutate(rn = row_number()) %>%
mutate(ID = unite("DemographicYear-rn", DemographicYear, rn))
uwm <- uwm %>%
group_by(DemographicYear) %>%
mutate(rn = row_number()) %>%
mutate(ID = unite(ID, DemographicYear, rn))
uwm <- uwm %>%
group_by(DemographicYear) %>%
mutate(rn = row_number()) %>%
mutate(ID = gsub(" ", "", paste(DemographicYear,"-",rn)))
uwm <- uwm[-rn]
uwm <- subset(uwm, select = -rn)
View(uwm)
write.table(uwm, file = "/Users/ethanhall/Desktop/2021/Analytics Cohort/UWM Data/uwm.csv",
row.names = FALSE, sep = ",")
